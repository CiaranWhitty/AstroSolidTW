---
import GetProduct from "../../components/GetProduct";
import MainLayout from "../../layouts/MainLayout.astro";
import NavLayout from "../../layouts/NavLayout.astro";

const res = await fetch(
  `${import.meta.env.PUBLIC_CLOUD_FUNCTION_API_URL}/products`
);
const ProductData = await res.json();

const product = ProductData.find(
  (p: any) => p.urlName === Astro.params.urlName
);
---

<MainLayout title={String(product?.name)} description="Page Description">
  <NavLayout page="Products">
    <GetProduct product={product} />
  </NavLayout>
</MainLayout>
